"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[217],{2211:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=r(4848),n=r(8453);const o={sidebar_position:4,title:"Working with Private Repositories"},s=void 0,a={id:"container-basics/repositories/working-with-private-repo",title:"Working with Private Repositories",description:"Logging into the Private Repository",source:"@site/docs/container-basics/repositories/working-with-private-repo.md",sourceDirName:"container-basics/repositories",slug:"/container-basics/repositories/working-with-private-repo",permalink:"/hands-on-containers/container-basics/repositories/working-with-private-repo",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/container-basics/repositories/working-with-private-repo.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Working with Private Repositories"},sidebar:"tutorialSidebar",previous:{title:"Working with Public Repositories",permalink:"/hands-on-containers/container-basics/repositories/working-with-public-repo"},next:{title:"Docker: Advanced Topics ",permalink:"/hands-on-containers/category/docker-advanced-topics-"}},c={},l=[{value:"Logging into the Private Repository",id:"logging-into-the-private-repository",level:2},{value:"Pushing an Image to Private Repository",id:"pushing-an-image-to-private-repository",level:2},{value:"Tag your local image with Registry URL and Repository",id:"tag-your-local-image-with-registry-url-and-repository",level:3},{value:"Push an Image from the Private Repository",id:"push-an-image-from-the-private-repository",level:3},{value:"Deploy an Image from the Private Repository",id:"deploy-an-image-from-the-private-repository",level:2},{value:"Pulling the Image from Private Repository",id:"pulling-the-image-from-private-repository",level:3},{value:"Running the Image from Private Repository",id:"running-the-image-from-private-repository",level:3}];function h(e){const i={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"logging-into-the-private-repository",children:"Logging into the Private Repository"}),"\n",(0,t.jsx)(i.p,{children:"Before pulling or pushing any images, you must log in to your private container image registry:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker login --username <username> my-registry.example.com\n"})}),"\n",(0,t.jsxs)(i.admonition,{type:"warning",children:[(0,t.jsx)(i.p,{children:"You will be prompted to enter your password. If your registry is using the default port, there\u2019s no need to specify it. However, if it\u2019s running on a non-standard port, you\u2019ll need to include it in the URL (e.g., my-registry.example.com:5000)."}),(0,t.jsx)(i.p,{children:"Note that your credentials will be stored in plain text on the operating system."})]}),"\n",(0,t.jsx)(i.h2,{id:"pushing-an-image-to-private-repository",children:"Pushing an Image to Private Repository"}),"\n",(0,t.jsx)(i.h3,{id:"tag-your-local-image-with-registry-url-and-repository",children:"Tag your local image with Registry URL and Repository"}),"\n",(0,t.jsx)(i.p,{children:"Before pushing the image, you need to tag it with the private registry URL and repository path. This step associates the image with the correct location in your private registry."}),"\n",(0,t.jsx)(i.p,{children:"The general syntax for tagging is:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker tag IMAGE[:TAG] [REGISTRY_URL]/[REPOSITORY]/IMAGE[:TAG]\n"})}),"\n",(0,t.jsx)(i.p,{children:"For example;"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker tag my-first-image:v1 my-registry.example.com/hands-on-containers/my-first-image-<username>:v1\n"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Here\u2019s what each part means:"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"my-first-image:v1"})," The name and tag of your local image."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"my-registry.example.com"})," The URL of your private registry."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"hands-on-containers"})," The repository or project path in the registry."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"my-first-image-<username>:v1"})," The name and tag of the image as it will appear in the private registry."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"push-an-image-from-the-private-repository",children:"Push an Image from the Private Repository"}),"\n",(0,t.jsx)(i.p,{children:"After tagging, use the docker push command to upload the image to your private repository:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker push my-registry.example.com/hands-on-containers/my-first-image-username:v1\n"})}),"\n",(0,t.jsx)(i.p,{children:"This command pushes the tagged image to the specified private repository URL."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"During this process"})}),"\n",(0,t.jsx)(i.p,{children:"Docker checks each layer in the image. If the layer already exists in the registry, Docker skips uploading it to save time and bandwidth.\nIf the push is successful, your image will be available in the private registry and accessible by others with appropriate permissions."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"armagan@ ~/python-docker-example (main?) $ docker push my-registry.example.com/hands-on-containers/my-first-image-armagan:v1\nThe push refers to repository [my-registry.example.com/hands-on-containers/my-first-image-armagan]\n616ccb485ce0: Pushed\nb46ab70d5c29: Pushed\n3b445027aaaa: Pushing [==================================>                ]  42.93MB/62.97MB\n493616396902: Pushed\n04604e14d645: Pushed\n5215ed437036: Pushed\na91c4344dec4: Pushing [====================>                              ]  28.34MB/69.84MB\n4a5f18b2b537: Pushing [==================================================>]  18.81MB\na2b8ce9d73a5: Pushing [==>                                                ]  22.95MB/560MB\n59c47e88439d: Pushing [=======>                                           ]  26.27MB/183.3MB\nafc6ebde4174: Waiting\n5968baa45665: Waiting\n"})}),"\n",(0,t.jsx)(i.h2,{id:"deploy-an-image-from-the-private-repository",children:"Deploy an Image from the Private Repository"}),"\n",(0,t.jsx)(i.h3,{id:"pulling-the-image-from-private-repository",children:"Pulling the Image from Private Repository"}),"\n",(0,t.jsxs)(i.p,{children:["To pull the image ",(0,t.jsx)(i.code,{children:"my-first-image-<username>:v1"})," from the private repository, specify the full URL as follows:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker pull my-registry.example.com/hands-on-containers/my-first-image-<username>:v1\n"})}),"\n",(0,t.jsx)(i.h3,{id:"running-the-image-from-private-repository",children:"Running the Image from Private Repository"}),"\n",(0,t.jsx)(i.p,{children:"To run the image that you pulled from the private repository, again specify the full URL as follows:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"docker run --name my-first-container -d -p 8000:8000 my-registry.example.com/hands-on-containers/my-first-image-<username>:v1\n"})})]})}function p(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,i,r)=>{r.d(i,{R:()=>s,x:()=>a});var t=r(6540);const n={},o=t.createContext(n);function s(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);